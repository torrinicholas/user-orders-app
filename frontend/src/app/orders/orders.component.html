<h1>Orders</h1>

<div class="input-group mb-3">
  <input type="text" class="form-control" (input)="filterTable($event)" placeholder="Search..." aria-label="Sizing example input" aria-describedby="inputGroup-sizing-default">
</div>

<table class="table table-light table-hover">
  <thead>
    <tr>
      <th scope="col" class="link-primary" (click)="sortTable('id')"><a class="link-primary cursor-pointer"> ID <i class="bi bi-arrow-down-up"></i></a></th>
      <th scope="col" (click)="sortTable('name')"><a class="link-primary cursor-pointer"> Name <i class="bi bi-arrow-down-up"></i></a></th>
      <th class="col">Description</th>
      <th scope="col" (click)="sortTable('date')"><a class="link-primary cursor-pointer"> Date <i class="bi bi-arrow-down-up"></i></a></th>
      <th scope="col"></th>
      <th scope="col"></th>
      <th scope="col"></th>
    </tr>
  </thead>
  <tbody>
    @for (order of filteredOrders; track order.id;) {
      <tr>
        <th scope="row">{{ order.id }}</th>
        <td>{{ order.name }}</td>
        <td>{{ order.description }}</td>
        <td>{{ order.date }}</td>
        <td><a class="btn btn-success" href="/view/products/{{ order.id }}">Manage products</a></td>
        <td><button type="button" class="btn btn-danger" (click)="deleteOrder(order.id)">Delete</button></td>
        <td><button type="button" class="btn btn-warning" data-bs-toggle="modal" data-bs-target="#addOrderModal" (click)="editOrder(order)" >Edit</button></td>
      </tr>
    }
  </tbody>
</table>

<button type="button" class="btn btn-primary" data-bs-toggle="modal" (click)="editOrder(orders)" data-bs-target="#addOrderModal">
  Add Order
</button>

<app-order-form [order]="selectedOrder"></app-order-form>